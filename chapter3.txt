This is the chapter 3 code file with new changes.